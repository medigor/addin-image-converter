# addin-image-converter
Внешняя компонента для `1С:Предприятие 8` для конвертации изображений из одного формат в другой.

## Свойства
```bsl
LastError: Строка - в случае исключения будет содеражить ошибку.
```

## Методы
```bsl
ConvertFile(ИмяФайлаИсточник: Строка, ИмяФайлаПриемник: Строка) - конвертирует файл картинки из одного формата в другой, формат определяется по расширению файла.
```
```bsl
ConvertBuffer(БуферИсточник: ДвоичныеДанные, ФорматИсточника: Строка, ФорматПриемника: Строка): ДвоичныеДанные - конвертирует двоичные данные картинки, форматы указывается как расширение файла, возвращаются двоичные данные новой картинки.
```

## Пример кода
```bsl
Если Не ПодключитьВнешнююКомпоненту(ИмяФайла, "MedIgor", ТипВнешнейКомпоненты.Native, 
    ТипПодключенияВнешнейКомпоненты.НеИзолированно) Тогда
    ВызватьИсключение "Не удалось подключить внешнюю компоненту";
КонецЕсли;
	
Converter = Новый ("Addin.MedIgor.ImageConverter");

// Конвертация файла
Попытка
    Converter.ConvertFile("C:\files\1.webp", "C:\files\1.png");
Исключение
    ВызватьИсключение Converter.LastError;
КонецПопытки;

// Конвертация двоичных данных
КартинкаWebp = Новый ДвоичныеДанные("C:\files\1.webp");
Попытка
    КартинкаPNG = Converter.ConvertBuffer(КартинкаWebp, "webp", "png");
Исключение
    ВызватьИсключение Converter.LastError;
КонецПопытки;
КартинкаPNG.Записать("C:\Pfiles\1.png");
```

# Сборка
см. https://github.com/medigor/rust-build-scripts
